<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>LazerEyes: Prescription Sender in Nostr DMs</title>
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Merriweather:300,400,700|Source+Sans+Pro:400,400i" rel="stylesheet">

        <script src="js/jquery-3.6.2.min.js"></script>
        <script src="js/date.js"></script>
        
        <script src="https://unpkg.com/nostr-tools/lib/nostr.bundle.js"></script>
        <script src="https://unpkg.com/nostr-login@latest/dist/unpkg.js" data-perms="sign_event:1059,13,14,"></script> 

        <script src="js/ui-utils.js"></script>
        <script src="js/ui-prescription-utils.js"></script>

        <script src="js/nip82.js"></script>
        <script src="js/nip17.js"></script>
        <script src="js/gzip.js"></script>
        <script src="js/nembed.js"></script>
        <script src="js/nostr.js"></script>
        <script src="js/lazereyes.js"></script>
    <body>
        <div class="page">
            <div class="section row">
                <h1 class="col" id="name"></h1>
                <div class="contact-info col-right">
                    <div id="email"></div>
                    <div id="website"></div>
                    <div id="location"></div>
                </div>
            </div>
            <div class="section row">
                <h2 class="col">Receiver</h2>
                <div class="section-text col-right">
                    <div id="receiver-section" class="extra-top-margin">
                        <input class="cool-field" type="text" id="receiver" size="60" placeholder="nprofile1..." onblur="onPubKeyFocusLost(event);" onkeyup="onPubKeyUp(event);">
                    </div>
                    <div id="receiver-name-section" class="extra-top-margin">
                        <span id="receiver-name" class="emph"></span> (<span id="receiver-email"></span>) <br>
                        <span id="receiver-relays-label" class="emph">Relays:</span><br>
                        <ul id="receiver-relays-ul" class="relays"><br>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="section row">
                <h2 class="col">Message</h2>
                <div class="section-text col-right">
                    <div id="message-section" class="extra-top-margin">
                        <textarea class="cool-field-area" rows="5" id="message" spellcheck="false"></textarea>
                    </div>
                </div>
            </div>
            <div class="section row">
                <h2 class="col">Prescription</h2>
                <div class="section-text col-right row">
                    <div class="extra-top-margin">
                        <table>
                            <tr>
                                <th></th>
                                <th class="right-text">Sphere</th>
                                <th class="right-text">Cylinder</th>
                                <th class="right-text">Axis</th>
                                <th>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                <th class="right-text">Add</th>
                            </tr>
                            <tr>
                                <td>OD:</td>
                                <td><input class="cool-field right-text" type="text" id="right-sphere" size="10" placeholder="-0.00" onblur="validateSph(this);"></td>
                                <td><input class="cool-field right-text" type="text" id="right-cylinder" size="10" placeholder="-0.00" onblur="validateCyl(this);"></td>
                                <td><input class="cool-field right-text" type="text" id="right-axis" size="10" placeholder="180" onblur="validateAxis(this);"></td>
                                <td></td>
                                <td><input class="cool-field right-text" type="text" id="right-add" size="10" placeholder="+0.00" onblur="validateAdd(this);"></td>
                            </tr>
                            <tr>
                                <td>OS: </td>
                                <td><input class="cool-field right-text" type="text" id="left-sphere" size="10" placeholder="-0.00" onblur="validateSph(this);"></td>
                                <td><input class="cool-field right-text" type="text" id="left-cylinder" size="10" placeholder="-0.00" onblur="validateCyl(this);"></td>
                                <td><input class="cool-field right-text" type="text" id="left-axis" size="10" placeholder="180" onblur="validateAxis(this);"></td>
                                <td></td>
                                <td><input class="cool-field right-text" type="text" id="left-add" size="10" placeholder="+0.00" onblur="validateAdd(this);"></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>

            <div class="section row">
                <div class="section-text col-right row">
                    <button id="send" onclick="sendMessage(); return false;">
                        Send
                    </button>
                </div>

                <div class="section-text col-right row">
                    <span id="send-result" class="emph"></span>
                </div>
            </div>


        </div>
    </body>
</html>
